<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="/assets/bootstrap.min.css" rel="stylesheet">
  <title><%= 'Home | ' + global.settings.title %></title>
  <style>
    .row-cols-2 .card:hover .card-body{
      background-color: #cf8414;
      border-radius: 0.25rem;
    }

    .article-title::after {
    content: "";
    display: block;
    position: absolute;
    bottom: -0.2em;
    left: 0;
    width: 100%;
    height: 1px;
    background-color: #ffffff;
  }
  </style>
  
</head>

<body class="bg-warning text-secondary">
  <div class=" text-center">
    <h1 class="display-5 fw-bold">
      <a href="/" class="text-white text-decoration-none">
        <%= global.settings.title %>
      </a>
    </h1>
    <div class="sub-header">
      <p class="fs-4 mb-0">
        <%= global.settings.subtitle %>
      </p>
      <p class="fw-light">
        <%= global.settings.author %>
      </p>
    </div>
    <% if (locals.goto) { %>
      <a href="/<%= goto %>" class="text-white">Go to <%= goto %> home</a>
    <% } %>
    <a href="/author">Author page</a>
  </div>

  <div class="container mt-2">
    <div class="row row-cols-2">
      <% articles.forEach(function(article) { %>
      <div class="col mb-3">
          <a class="card border-light hover mx-auto text-decoration-none text-bg-dark" href="/reader/<%= article.id %>">
           <div class = "card-body p-3">
            <h5 class="border-bottom pb-1 article-title">
              <%= article.title %>
            </h5>
            <p class="article-subtitle">
              <%= article.subtitle %>
            </p>
            <span class="article-date">
              Published: <%= new Date(article.published).toLocaleString() %>
            </span>
            <span class="float-end">
              <%= article.likes %> like<%= article.likes !== 1 ? 's' : '' %>
            </span>
          </div>
          </a>
      </div>
      <% }); %>
    </div>
  </div>

</body>

</html>